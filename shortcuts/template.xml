<?xml version="1.0" encoding="UTF-8"?>
<template>
    <submenu include="submenu">
        <controls>
            <control type="fixedlist" id="9001">
                <left>0</left>
                <top>145</top>
                <right>0</right>
                <height>1080</height>
                <onleft>9000</onleft>
                <onright>3000</onright>
                <orientation>vertical</orientation>
                <include content="Object_Submenu_Content">
                    <param name="icon" value="$INFO[ListItem.Icon]" />
                    <param name="label" value="$INFO[ListItem.Label]" />
                </include>
                <content>
                    <skinshortcuts>items</skinshortcuts>
                </content>
                <skinshortcuts>visibility</skinshortcuts>
            </control>
        </controls>
    </submenu>

    <submenu include="submenuHorizontal">
        <controls>
            <control type="list" id="9001">
                <left>0</left>
                <top>0</top>
                <right>0</right>
                <bottom>0</bottom>
                <height>1080</height>
                <onup>9000</onup>
                <ondown>9000</ondown>
                <onleft>noop</onleft>
                <onright>noop</onright>
                <orientation>horizontal</orientation>
                <include content="Object_SubmenuHorizontal_Content">
                    <param name="icon" value="$INFO[ListItem.Icon]" />
                    <param name="label" value="$INFO[ListItem.Label]" />
                </include>
                <content>
                    <skinshortcuts>items</skinshortcuts>
                </content>
                <skinshortcuts>visibility</skinshortcuts>
            </control>
        </controls>
    </submenu>

    <other>
        <controls>
            <description>This is a fake template which is needed to trick Skin Shortcuts into building the submenuOther templates</description>
        </controls>
    </other>

    <submenuOther include="vertical" level="1">
        <condition tag="property" attribute="name|widgetPath" />

        <property name="id" tag="mainmenuid" />
        <property name="sortby" tag="property" attribute="name|widgetSortBy" />
        <property name="sortdirection" tag="property" attribute="name|widgetSortDirection" />
        <property name="limit" tag="property" attribute="name|widgetLimit" />
        <property name="aspect" tag="property" attribute="name|widgetAspect" />
        <property name="aspect">Poster</property>

        <propertyGroup>mainmenuWidgets</propertyGroup>

        <controls>
            <include content="Object_Widget_Content">
                <param name="id" value="$PYTHON[int(id) + 7501]" />
                <param name="target" value="$SKINSHORTCUTS[target]" />
                <param name="sortby" value="$SKINSHORTCUTS[sortby]" />
                <param name="sortdirection" value="$SKINSHORTCUTS[sortdirection]" />
                <param name="limit" value="$SKINSHORTCUTS[limit]" />
                <param name="path" value="$SKINSHORTCUTS[path]" />
                <param name="image" value="$SKINSHORTCUTS[artwork]" />
                <param name="postercondition" value="$PYTHON['true' if aspect in 'Poster' else 'false']" />
                <param name="landscapecondition" value="$PYTHON['true' if aspect in 'Landscape' else 'false']" />
                <onunfocus>ClearProperty(TMDbHelper.WidgetContainer,home)</onunfocus>

                <onfocus>SetProperty(TMDbHelper.WidgetContainer,$PYTHON[int(id) + 7501],home)</onfocus>
                <onfocus>SetProperty(widgetMovementPosition,$SKINSHORTCUTS[id],home)</onfocus>
                <onfocus>SetProperty(widgetNameLabel,$SKINSHORTCUTS[name],home)</onfocus>

                <skinshortcuts>visibility</skinshortcuts>
            </include>
        </controls>
    </submenuOther>

    <submenuOther include="horizontal" level="1">
        <condition tag="property" attribute="name|widgetPath" />

        <property name="id" tag="mainmenuid" />
        <property name="sortby" tag="property" attribute="name|widgetSortBy" />
        <property name="sortdirection" tag="property" attribute="name|widgetSortDirection" />
        <property name="limit" tag="property" attribute="name|widgetLimit" />
        <property name="aspect" tag="property" attribute="name|widgetAspect" />
        <property name="aspect">Poster</property>

        <propertyGroup>mainmenuWidgets</propertyGroup>

        <controls>
            <include content="Object_Widget_Content_Horizontal">
                <param name="name" value="$SKINSHORTCUTS[name]" />
                <param name="groupid" value="$PYTHON[int(id) + 7601]" />
                <param name="image" value="$SKINSHORTCUTS[artwork]" />
                <param name="id" value="$PYTHON[int(id) + 7501]" />
                <param name="target" value="$SKINSHORTCUTS[target]" />
                <param name="sortby" value="$SKINSHORTCUTS[sortby]" />
                <param name="sortdirection" value="$SKINSHORTCUTS[sortdirection]" />
                <param name="limit" value="$SKINSHORTCUTS[limit]" />
                <param name="path" value="$SKINSHORTCUTS[path]" />
                <param name="postercondition" value="$PYTHON['true' if aspect in 'Poster' else 'false']" />
                <param name="landscapecondition" value="$PYTHON['true' if aspect in 'Landscape' else 'false']" />
                <onunfocus>ClearProperty(TMDbHelper.WidgetContainer,home)</onunfocus>
                <skinshortcuts>visibility</skinshortcuts>
            </include>
        </controls>
    </submenuOther>

    <propertyGroup name="mainmenuWidgets">
        <property name="id" tag="mainmenuid" />
        <property name="name" tag="property" attribute="name|widgetName" />
        <property name="path" tag="property" attribute="name|widgetPath" />
        <property name="target" tag="property" attribute="name|widgetTarget" />
        <property name="target"></property>
        <!-- <property name="path">$INCLUDE[skinshortcuts-group-$SKINSHORTCUTS[submenuVisibility]]</property> -->

        <!-- For TV Shows, we want to specify the artwork as the tv show poster, otherwise we'll use the icon -->
        <property name="artwork" tag="property" attribute="name|widgetType" value="tvshows">$INFO[ListItem.Art(tvshow.poster)]</property>
        <property name="artwork">$VAR[ImagePoster]</property>

        <property name="widgetInclude" tag="property" attribute="name|widgetPath">Object_Widget_Content</property>

        <property name="submenuVisibility" tag="property" attribute="name|submenuVisibility" />
        <property name="label" tag="label" />
        <property name="label">$INFO[ListItem.Label]</property>
        <property name="background" tag="property" attribute="name|background" />

    </propertyGroup>

</template>